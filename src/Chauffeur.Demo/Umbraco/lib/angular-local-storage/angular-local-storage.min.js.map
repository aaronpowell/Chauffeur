{"version":3,"sources":["angular-local-storage.js"],"names":["window","angular","isDefined","isUndefined","isNumber","isObject","isArray","isString","extend","toJson","module","provider","this","prefix","storageType","cookie","expiry","path","secure","defaultToCookie","notify","setItem","removeItem","setPrefix","setStorageType","setDefaultToCookie","shouldDefault","setStorageCookie","exp","setStorageCookieDomain","domain","setNotify","itemSet","itemRemove","$get","$rootScope","$window","$document","$parse","$timeout","handleStorageChangeCallback","e","event","key","isKeyPrefixOurs","underiveQualifiedKey","$broadcast","newvalue","newValue","self","webStorage","document","substr","deriveQualifiedKey","replace","RegExp","indexOf","checkSupport","supported","Math","round","random","message","browserSupportsLocalStorage","addToLocalStorage","value","type","previousType","getStorageType","addToCookies","getFromLocalStorage","getFromCookies","item","getItem","JSON","parse","removeFromLocalStorage","consumed","arguments","length","i","removeFromCookies","getKeysForLocalStorage","prefixLength","keys","push","Description","clearAllFromLocalStorage","regularExpression","prefixRegex","testRegex","clearAllFromCookies","test","browserSupportsCookies","navigator","cookieEnabled","call","daysToExpiry","expiryDate","Date","cookieDomain","setTime","getTime","toGMTString","cookiePath","encodeURIComponent","cookies","split","thisCookie","charAt","substring","storedValues","decodeURIComponent","parsedValue","bindToScope","scope","def","lsKey","assign","$watch","newVal","addEventListener","$on","removeEventListener","attachEvent","detachEvent","lengthOfLocalStorage","count","storage","changePrefix","localStoragePrefix","isSupported","set","add","get","remove","clearAll","bind","deriveKey","underiveKey"],"mappings":"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","file":"angular-local-storage.min.js"}